<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Document</title>
</head>

<body>
    <script>
        /**
         * @param {string} s
         * @return {string}
         */
        var longestPalindrome = function (s) {
            let len = s.length
            let resArr = []
            let res = {
                longest: 0,
                i: 0,
                j: 0
            }
            for (let i = 0; i < len; i++) {
                if (!resArr[i]) {
                    resArr[i] = []
                }
                resArr[i][i] = 1
                if (s[i] == s[i + 1]) {
                    resArr[i][i + 1] = 2
                    if (2 > res.longest) {
                        res.longest = 2
                        res.i = i
                        res.j = i + 1
                    }
                }
                if (1 > res.longest) {
                    res.longest = 1
                    res.i = i
                    res.j = i
                }
            }

            for (let x = 3; x <= len; x++) {
                for (let y = x; y <= len; y++) {
                    let start = y - x
                    let end = y - 1
                    if (s[start] === s[end] && resArr[start + 1][end - 1]) {
                        resArr[start][end] = resArr[start + 1][end - 1] + 2
                        if (resArr[start][end] > res.longest) {
                            res.longest = resArr[start][end]
                            res.i = start
                            res.j = end
                        }
                    }
                }
            }

            return s.slice(res.i, res.j + 1)
        };
        console.log(longestPalindrome("cbbd"))
        //abac 
        //caba
    </script>
</body>

</html>